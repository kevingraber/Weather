<!DOCTYPE html>
<html>
<head>
	<title>Weather</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link href='https://fonts.googleapis.com/css?family=Sanchez' rel='stylesheet' type='text/css'>
</head>
<body>

<div class="container">
	
	<div class="row">
		
		<div class="col-md-12 text-center">
			<h1>What's the weather?</h1>
			<br>
			<br>
			<br>		
		</div>

		<div class="row">
			<div class="col-md-6 col-md-offset-2">
				<input class="form-control input-lg" id="cityInput">
			</div>
			<div class="col-md-2">
				<button class="btn btn-default btn-lg btn-block" id="submit">Submit</button>
				<br><br>
			</div>
		</div>

		<div class="row">

			<button onclick="getLocation()" class="btn-lg btn-success">Try It</button>
			<p id="demo"></p>

			<div class="col-md-8 col-md-offset-2">
			<div id="weatherArea" class="text-center"></div>
			</div>
		</div>
	</div>

</div>

<script type="text/javascript">
	

// var city = prompt("Enter a city you would like to know the weather for!");
// var queryURL = "http://api.openweathermap.org/data/2.5/weather?q="+city+"&appid=44db6a862fba0b067b1930da0d769e98&units=imperial"
// var icon = '10d.png'
// var iconURL = "<img src='http://openweathermap.org/img/w/"+icon+"'>"

	
	$("#submit").click(function() {

		$("#weatherArea").empty();

		var city = $("#cityInput").val();
		var queryURL = "http://api.openweathermap.org/data/2.5/weather?q="+city+"&appid=44db6a862fba0b067b1930da0d769e98&units=imperial"
		var icon = '10d.png'
		var iconURL = "<img src='http://openweathermap.org/img/w/"+icon+"'>"

		$.ajax({url: queryURL, method: "GET"}).done(function(condition) {
			// alert(condition.weather[0].main)
			// $("#lol").append(condition.weather[0].main);
			$("#weatherArea").append("The temperature in "+city+" is: " + Math.round(condition.main.temp) + " Fahrenheit and it is " + condition.weather[0].main +" <img src='http://openweathermap.org/img/w/"+condition.weather[0].icon+".png'>")
		});
		$("#cityInput").val(null);

	});


	// $.ajax({url: queryURL, method: "GET"}).done(function(condition) {
	// 	// alert(condition.weather[0].main)
	// 	// $("#lol").append(condition.weather[0].main);
	// 	$("#weatherArea").append("The temperature in "+city+" is: " + Math.round(condition.main.temp) + " Fahrenheit and it is " + condition.weather[0].main +". <img src='http://openweathermap.org/img/w/"+condition.weather[0].icon+".png'>")

	// })

	var x = document.getElementById("demo");

	function getLocation() {
	    if (navigator.geolocation) {
	        navigator.geolocation.getCurrentPosition(showPosition);
	    } else { 
	        x.innerHTML = "Geolocation is not supported by this browser.";
	    }
	}

	function showPosition(position) {
	    x.innerHTML = "Latitude: " + position.coords.latitude + 
	    "<br>Longitude: " + position.coords.longitude;	
	}

</script>

<style>

#weatherArea {
	font-size:50px;
	font-family: 'Sanchez', serif;
/*	text-shadow: 2px 2px 10px black;*/
}

h1 {
	font-size:100px;
	font-family: 'Sanchez', serif;
/*	text-shadow: 2px 2px 10px black;*/
}

.higlight {
	color:pink;
}

button {
	width:100%;
}

body {
	background-image:url("rain.jpg");
	color:white;
}



</style>

</body>
</html>